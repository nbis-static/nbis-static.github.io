(function(t){t.fn.treemenu=function(n){if(n=n||{},n.delay=n.delay||0,n.openActive=n.openActive||!1,n.closeOther=n.closeOther||!1,n.activeSelector=n.activeSelector||".active",this.addClass("treemenu"),n.nonroot||this.addClass("treemenu-root"),n.nonroot=!0,this.find("> li").each(function(){e=t(this);var o=e.find("> ul"),s=e.find(".toggler").eq(0);s.length==0&&(s=t("<span>"),s.addClass("toggler"),e.prepend(s)),o.length>0?(o.hide(),e.addClass("tree-closed"),e.find(s).click(function(){var e=t(this).parent("li"),s;n.closeOther&&e.hasClass("tree-closed")&&(s=e.parent("ul").find("li:not(.tree-empty)"),s.removeClass("tree-opened"),s.addClass("tree-closed"),s.removeClass(n.activeSelector),s.find("> ul").slideUp(n.delay)),e.find("> ul").slideToggle(n.delay),e.toggleClass("tree-opened"),e.toggleClass("tree-closed"),e.toggleClass(n.activeSelector)}),t(this).find("> ul").treemenu(n)):t(this).addClass("tree-empty")}),n.openActive){var s=this.attr("class");this.find(n.activeSelector).each(function(){for(var e=t(this).parent();e.attr("class")!==s;)e.find("> ul").show(),e.prop("tagName")==="UL"?e.show():e.prop("tagName")==="LI"&&(e.removeClass("tree-closed"),e.addClass("tree-opened"),e.show()),e=e.parent()})}return this}})(jQuery)